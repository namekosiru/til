<div class="container2">
    <header>
        <div class="row3">
            <h1>Node Chat</h1>
        </div>
        <form method="post" action="/"></form>
        <div class="room-login_exit_set">
            <div class="room-login_user">
                ログインユーザ：{{userName}}さん
                <input id="userName" type="hidden" value={{userName}}>
                <input id="userid" type="hidden" value={{userid}}>
                <input id="socket_id" type="hidden" value="aaa">
            </div>
            <div class="room-break">
                <form action="/room/room1" method="post">
                    <button type="submit" class="common-button room-break_button">ブレイクアウト</button>
                    <input id="userName" type="hidden" name="userName" value={{userName}}>
                </form>
                <input id="userName" type="hidden" name="userName" value={{userName}}>
            </div>
            <div class="room-exit">
                <input type="button" value="退室する" class="common-button room-exit_button" onclick="exit();">
            </div>
            </div>
            </header>
            <div class="main">
                <div>
                    <div id="userlist">
                        <ul id="user">
                            {{#each user_list}}
                            <li><input type="hidden" class="users" value={{this}} name="name">{{this}}</li>
                            {{/each}}
                        </ul>
                    </div>
                </div>
            <div class="room-thread">
                <div id="thread"></div>
            </div>
            </div>
            <div class="room-messeage_set">
                <div class="room-message">
                <textarea id="message" rows="4" class="room-message_textarea" placeholder="投稿文を入力してください" name="memo"></textarea>
            </div>
            <div class="room-submit">
                <input type="button" value="投稿" class="common-button room-publish_button" onclick="publish();">
                <input type="button" value="メモ" class="common-button room-memo_button" onclick="window.memo();">
            </div>
    </div>
</div>

<script type="text/javascript">
    const users_list = document.getElementsByClassName("users");
    var li = {};
    //新しくusersの情報配列を作成
    for(let i=0;i<users_list.length;i++){
        li[i+1] = users_list.item(i).value;
    }
    console.log(li);
    export let list = li;
</script>
<script type="text/javascript">const prop = "room"</script>
<script src="/javascripts/socket.js"></script>
<script src="/javascripts/enter.js" type="text/javascript"></script>
<script src="/javascripts/publish.js" type="text/javascript"></script>
<script src="/javascripts/memo.js" type="text/javascript"></script>
<script src="/javascripts/exit.js" type="text/javascript"></script>